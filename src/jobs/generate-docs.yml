description: >
  Generate documentation.

executor: default

steps:
  - checkout
  - run:
      name: Download PHPDocumentor
      command: |
        curl -L -o ./phpdocumentor https://phpdoc.org/phpDocumentor.phar
        chmod +x ./phpdocumentor
  - run:
      name: Generate documentation
      command: |
        ./phpdocumentor -d ./includes -t ./docs
  - run:
      name: Switch to docs branch, commit, and push
      command: |
        git co -b docs
        git add docs
        git commit -m "Update docs"
        git push origin docs
